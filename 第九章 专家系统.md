# 第九章 专家系统
一个专家之所以能够很好地解决本领域的问题，就是因为他具有本领域的专门知识。如果能将专家的知识总结出来，_以计算机可以使用的形式加以表达_，那么计算机系统是否就可以利用这些知识，像专家一样解决特定领域的问题？这就是专家系统的初衷。
## 专家系统概述
费根保姆将专家系统定义为：一种智能的计算机程序，它运用知识和推理来解决只有专家才能解决的复杂问题。
不同于一般的计算机程序系统，专家系统以知识库和推理机为核心，可以处理非确定性问题，不追求问题的最佳解，利用知识得到一个**满意解**是系统的求解目标。专家系统强调知识库与包括推理机在内的其他子系统的_分离_，一般来说只是亏是_与领域强相关的_，而推理机等子系统_具有一定的通用性。_
知识库用于存储求解问题所需要的领域知识和事实，知识一般以如下形式规则表示：IF  \<前提\> THEN \<结论\>
意思是：如果前提被满足，可以得到结论。
专家系统的结构图：![](https://tva1.sinaimg.cn/large/008i3skNgy1gz9g5tj4jkj30u0140dli.jpg)
推理机是一个执行结构，它负责对知识库中的知识进行解释，利用知识进行推理。假设知识以规则的形式表示，推理机会根据某种策略对知识库中的规则进行检测，选择一个前提可以满足的规则，得到该规则的结论，并根据结论的不同类型执行不同操作。
 动态数据库是一个工作存储区，用于存放初始已知条件、已知事实、推理过程中得到的中间结果以及最终结果等。
人机交互界面是系统和用户的交互接口，系统在运行过程中需要用户通过该交互接口输入数据到系统中，系统则将需要显示给用户的信息通过交互接口显示给用户。
解释器是专家系统特有的模块，也是与一般计算机软件系统的区别之一。在专家系统与用户的交互过程中，如果用户希望系统解释内容，专家系统将通过解释器对用户进行解释。解释一般分为“Why解释”和“How解释”两种，why解释为什么，how解释如何得到。这样可以让用户对专家系统的推理结果有所了解，而不是盲目信任。
知识获取模块是专家系统与知识工程师的交互接口，知识工程师通过知识获取模块将整理的领域知识加入知识库中。

## 推理方法
专家系统中的推理机是如何利用知识库进行推理的？这个答案会根据**知识表示方法**的不同而有所不同。在专家系统中，**规则**是最常用的知识表示方法，下面以规则为例进行说明。
按照推理的方向，推理方法可以分为正向推理和逆向推理。
1. 正向推理
正向推理就是正向地使用规则，_从已知条件出发向目标进行推理_。其基本思想是：检测是否有规则的前提被动态数据库中的已知事实满足，如果被满足，则将该规则的结论放入动态数据库中，再检查是由有其他规则的前提被满足；反复该过程，直到目标被某一个规则推出结束，或者再也没有新结论被推出为止。
> 由于正向推理是通过动态数据库中的数据来“触发”规则进行推理的，所以又称数据驱动的推理。
2. 逆向推理
逆向推理又称反向推理，是逆向地使用规则，_先将目标作为假设_，查看是否有某条规则支持该假设，即_规则结论与假设是否一致_，然后看结论与假设一致的规则其前提是否成立。如果前提成立，则假设被验证，结论放入动态数据库中；否则将_该规则的前提加入假设集中_，一个一个地验证这些假设，直到目标假设被验证完为止。
> 由于逆向推理是从假设求解目标成立、逆向使用规则进行推理的，所以又称目标驱动的推理。
## 非确定性推理
前面给出的规则都是确定性的，也就是说满足了什么条件，结果就一定是什么。现实生活中很多实际问题是非确定性问题，而非确定性问题需要非确定性推理方法。
随机性、模糊性、不完全性均可导致非确定性。解决非确定性推理问题至少要解决以下几个问题：事实的表示、规则的表示、逻辑运算、规则运算、规则的合成。
目前有不少非确定性推理方法，各有优缺点，下面以著名的专家系统MYCIN中使用的可信度方法为例进行说明。
### 事实的表示
事实A为真的可信度用CF(A)表示，取值范围为【-1，1】，当CF(A)=1时，表示A肯定为真；当其为-1时表示A肯定为假。
### 规则的表示
具有可信度的规则表示为如下形式：
IF    A    THEN    B    CF(B,A)
其中，A是规则的前提，B是规则的结论；CF(B,A)是规则的可信度，又称规则的强度，表示当前提A为真时，结论B为真的可信度，取值范围也是【-1，1】。
### 逻辑运算
规则前提可以是复合条件，复合条件可以通过逻辑运算表示。常用的逻辑运算在规则中可以用and,or,not来表示。
在可信度方法中，具有可信度的逻辑运算规则如下：
1. CF(A and B) = min（A,B)即A和B中可信度较小的那个
2.  CF(A or B) = max（A,B)即A和B中可信度较大的那个
3. CF(not A) = - A
### 规则运算
在可信度方法中，规则运算的规则按照如下方式计算：
IF A THEN B CF(B,A)
CF(A)
则：CF(B)=max[0,CF(A)](#)×CF(B,A)
由于只有当规则的前提为真时，才有可能推出规则的结论，而前提为真意味着CF（A)必须大于0；CF(A)\<0意味着规则的前提不成立，不能从该规则推导出任何与结论B有关的信息。
CF(B)=0，表示该规则得不出任何与结论B有关的信息，但并不表示对B就一定是一无所知，因为还有可能通过其他的规则推导出与B有关的信息。
### 规则合成
通常情况下，得到同一结论的规则不止一条，但是从不同规则得到同一个结论的可信度可能并不相同，那么应该如何计算CF（结论）呢？这就是规则合成问题。
在可信度方法中，规则的合成计算如下： 
![](https://tva1.sinaimg.cn/large/008i3skNgy1gz9g5xrkwrj31400u0afm.jpg)

## 专家系统工具
专家系统的一个特点是知识库与系统其他部分的分离，_知识库与求解的问题领域密切相关，而推理机等则与具体领域独立_，具有通用性。
借助之前开发好的专家系统，将描述领域知识的规则等从源系统中挖掉，只保留其知识表示方法和与领域无关的推理机等部分，就得到了一个专家系统工具，这样的工具称为骨架型工具，因为它保留了原有系统的主要框架。
骨架型专家系统工具具有使用简单方便的特点，只需将具体的领域知识按照工具规定的格式表达出来就可以了，可以有效提高专家系统的构建效率。但是灵活性不够，除了知识库，使用者不能该改变其他东西。
另一种专家系统工具是语言性工具，提供给用户的是构建专家系统需要的基本机制。除了知识库，使用者还可以使用系统提供的基本机制，根据需要构建具体的推理机等，使用起来更加灵活方便，适用范围也更广泛。
## 专家系统的局限性
首先，知识获取的瓶颈问题一直没有得到很好的解决，基本都是依靠人工总结专家经验、获得知识。
其次，知识库总是有限的，它不能包含所有的信息。知识驱动的专家系统智能能利用已有知识库进行推理，无法学习到新的知识。
另外，知识驱动的专家系统只能描述特定的领域，不具有通用性，难以处理常识问题。
